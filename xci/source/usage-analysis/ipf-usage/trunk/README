###############################################################################
# How to install and configure ipf-usage
###############################################################################

# Pre-requisites
  1. Python with virtualenv

# Create install directory owned by the account that will upload files
  $ mkdir /soft/ipf-usage
  $ chown <owner>.<group> /soft/ipf-usage

# Perform the rest of this procedure from the account that will upload files

# Install the package(s), create log directory
  $ cd /soft/ipf-usage
  $ svn co https://software.xsede.org/svn/xci/source/usage-analysis/ipf-usage/trunk/ ./
  $ mkdir var

# Generate SSH keys without a passphrase
  $ ssh-keygen -t rsa -f /soft/ipf-usage/conf/id_rsa
# Send the id_rsa.pub public key to the Usage Collection Service administrators

# Review and update configuration files etc/*.conf 

# Generate a custom Python venv with some required packages
# Review, update, and execute bin/python-venv-init.sh
  $ ./bin/python-venv-init.sh

# Setup upload cron
# Review and update bin/upload_rabbitmq.sh
# Test by hand
  $ /soft/ipf-usage/bin/upload_rabbimq.sh
# Install crontab:
  0 6 * * 1 /soft/ipf-usage/bin/upload_rabbitmq.sh
